{% extends "base.html" %}
{% load static %}

{% block base_css %}
{{ block.super }}
{% endblock %}

{% block custom_css %}
{{ block.super }}
{% endblock %}

{% block sidebar %}
{{ block.super }}
{% endblock %}

{% block content %}
<!-- begin #content -->
<div id="content" class="content">

    <!-- begin breadcrumb -->
    <ol class="breadcrumb pull-right">
        <li><a href="javascript:;">Admin</a></li>
        <li class="active">Dashboard</li>
    </ol>
    <!-- end breadcrumb -->
    <!-- begin page-header -->
    <h1 class="page-header">Videos <small>mantente acerca de los videos subidos por los usuarios</small></h1>
    <!-- end page-header -->

    <div class="row">
      <!-- begin col-8 -->
      <div class="col-md-12">
        <div class="panel panel-inverse">
          <div class="panel-heading">
            <div class="btn-group pull-right">
                <button type="button" class="btn btn-success btn-xs">Acción</button>
                <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown">
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="{% url 'contests:contest_create' %}">Nuevo</a></li>
                </ul>
            </div>
            <h4 class="panel-title">Videos</h4>
          </div>
          <div class="panel-body">
            {% if object_list %}
            <div class="table-responsive">
              <table id="concurso" class="table table-bordered table-striped">
                <thead>
                  <tr>
                    <th class="text-center">Nombre</th>
                    <th class="text-center">Fecha de creación</th>
                    <th class="text-center">Subido por</th>
                    <th class="text-center">Estado</th>
                    <th class="text-center">Opciones</th>
                  </tr>
                </thead>
                <tbody>
                  {% for concurso in object_list %}
                  <tr>
                    <td class="text-center">
                      {{ video.file.name }}
                    </td>
                    <td class="text-center">
                      {{ video.uploaded_at }}
                    </td>
                    <td class="text-center">
                      {{ video.participant.email }}
                    </td>
                    <td class="text-center">
                      {{ video.status}}
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
            {% else %}
            <div class="alert alert-info fade in m-b-15">
              <strong>Success!</strong>
              Aún hay videos en el presente concurso!
              <span class="close" data-dismiss="alert">×</span>
            </div>
            {% endif %}
            <div class="pull-right">
              {% if is_paginated %}
              <ul class="pagination">
                {% if page_obj.has_previous %}
                  <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
                {% else %}
                  <li class="disabled"><span>&laquo;</span></li>
                {% endif %}
                {% for i in paginator.page_range %}
                  {% if page_obj.number == i %}
                    <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                  {% else %}
                    <li><a href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
                {% endfor %}
                {% if page_obj.has_next %}
                  <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
                {% else %}
                  <li class="disabled"><span>&raquo;</span></li>
                {% endif %}
              </ul>
            {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
    
</div>
<!-- end #content -->
{% endblock %}

{% block base_js %}
{{ block.super }}
{% endblock %}

{% block custom_js %}
{{ block.super }}
{% endblock %}

{% block init_js %}
{{ block.super }}
{% endblock %}